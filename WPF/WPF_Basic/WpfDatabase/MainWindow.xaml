<Window x:Class="WpfDatabase.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfDatabase"
        mc:Ignorable="d"
        Title="MainWindow"
        Height="450"
        Width="1000">
    <Window.DataContext>
        <local:MainViewModel/>
    </Window.DataContext>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="1*"/>
        </Grid.RowDefinitions>
        <!--#region status-->
        <Grid Grid.Row="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0"
                       Margin="5"
                       TextAlignment="Right"
                       Text="Status: "/>
            <TextBlock Grid.Column="1"
                       Margin="5"
                       Text="{Binding Status}"/>
        </Grid>
        <!--  connection database  -->
        <Grid Grid.Row="1">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0"
                       Margin="5"
                       TextAlignment="Right"
                       Text="Db File Path: "/>
            <TextBox Grid.Column="1"
                     Margin="5"
                     Text="{Binding DbFilePath}"/>
            <Button Grid.Column="2"
                    Margin="5"
                    Content="Connection"
                    Command="{Binding ConnectDbFilePathCommand}"/>
            <Button Grid.Column="3"
                    Margin="5"
                    Content="Close"
                    Command="{Binding CloseDbFilePathCommand}"/>
            <Button Grid.Column="4"
                    Margin="5"
                    Content="Save"
                    Command="{Binding SaveStudentCommand}"/>
        </Grid>
        <!--    -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="50"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0"
                       Text="IP: "
                       TextAlignment="Right"
                       Margin="5"/>
            <TextBox Grid.Column="1"
                     Text="{Binding MssqlIp}"
                     Margin="5"/>

            <TextBlock Grid.Column="2"
                       Text="Port: "
                       TextAlignment="Right"
                       Margin="5"/>
            <TextBox Grid.Column="3"
                     Text="{Binding MssqlPort}"
                     Margin="5"/>

            <TextBlock Grid.Column="4"
                       Text="Db Name: "
                       TextAlignment="Right"
                       Margin="5"/>
            <TextBox Grid.Column="5"
                     Text="{Binding MssqlDbName}"
                     Margin="5"/>

            <TextBlock Grid.Column="6"
                       Text="ID: "
                       TextAlignment="Right"
                       Margin="5"/>
            <TextBox Grid.Column="7"
                     Text="{Binding MssqlID}"
                     Margin="5"/>

            <TextBlock Grid.Column="8"
                       Text="Pass: "
                       TextAlignment="Right"
                       Margin="5"/>
            <TextBox Grid.Column="9"
                     Text="{Binding MssqlPassword}"
                     Margin="5"/>

            <Button Grid.Column="10"
                    Content="Connect"
                    Margin="5"
                    Command="{Binding ConnectMssqlCommand}"/>

            <Button Grid.Column="11"
                    Content="Connect"
                    Margin="5"
                    Command="{Binding CloseMssqlCommand}"/>
        </Grid>

        <GroupBox Grid.Row="3"
                  Margin="5"
                  Header="Students">
            <DataGrid Margin="5"
                      ItemsSource="{Binding Students}"
                      AutoGenerateColumns="False"
                      IsReadOnly="False"
                      CanUserAddRows="True"
                      SelectionUnit="FullRow"
                      HeadersVisibility="Column"
                      VirtualizingStackPanel.ScrollUnit="Pixel"
                      VirtualizingStackPanel.VirtualizationMode="Recycling"
                      ScrollViewer.CanContentScroll="True">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Id"
                                        Width="Auto"
                                        IsReadOnly="True"
                                        Binding="{Binding Id}"/>
                    <DataGridTextColumn Header="Name"
                                        Width="1*"
                                        Binding="{Binding Name}"/>
                    <DataGridTextColumn Header="Grade"
                                        Width="1*"
                                        Binding="{Binding Grade}"/>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>
    </Grid>
</Window>
